# Mysql表规范

#### 一、Mysql三范式

1. 第一范式：列不可再分
   - 每一个字段是不可拆分的属性值，确保每一列的原子性
   - 两列的属性相同或相似，尽量合并属性相同的列，避免字段冗余
   - 比如下表：地址这一栏就可以拆分成省，市，具体地址

![img](https://img-blog.csdnimg.cn/20200727154121328.png)

2. 第二范式：第二范式是在第一范式的基础上建立。确保表中每个字段都与主键相关，属性完全依赖于主键，而不是依赖于主键的一部分。这个主要是对于联合主键。

   > 联合主键：可以将多个列同时作为主键。（当多个列一起作为主键时，这里面的列均不能为空，但列值可以重复（不能所有的列值均一样，至少有一个不同））

   > 完全依赖：如果AB能得出C，但单A或单B不能退出C，那么说明C完全依赖于AB
   >
   > 部分依赖：如果AB能得出C，通过A能得出C，通过B能得出C，说明C部分依赖于AB
   >
   > 传递函数依赖：如果A得到B，B得到C，但C得不到B，B得不到A，说明C传递依赖于A

   	直观点就是，能很明显的感觉到这个表是两个表的糅合（每个主键，各管各的）。比如下图：

  	![image20210713145926848.png](http://172.81.243.159:8090/upload/2021/07/image-20210713145926848-49f6db9537cd4bfbb8a75d4baa11733c.png)

3. 第三范式：在满足第二范式的情况下，确保每列与主键都是直接相关，而不是间接相关。

   比如上图：

   > 客房信息表：床位数，入住人数，价格这几个字段和客房号是不是完全依赖？是完全依赖，但是不是直接依赖，这几个字段直接依赖的客房类型，再通过客房类型间接依赖到客房号。

   第二范式与第三范式都是为了减少数据冗余，如何安全的拆表。三我觉得是二的加强版，更精细化的拆表。

   > 主键与外键在多表中的重复出现不属于数据冗余，非键字段的重复出现才是数据冗余

4. 三范式不是一定要遵守，要根据需求和实际情况酌情考虑
